z;h;w;n=4e4;p[40001];m[101][100];f(x,y){if(x>=0&x<w&y>=0&y<h&p[m[y][x]]==z&&m[y][x]){m[y][x]=0;f(x,y-1);f(x+1,y);f(x,y+1);f(x-1,y);}}main(t,i,j,k,a,b){memset(p,1,n);for(i=2;i<n;i++)for(j=i*i;p[i]&j<n;j+=i)p[j]=0;scanf("%d",&t);while(scanf("%d%d",&h,&w),t--){for(i=0;i<h*w;scanf("%d",&m[i/w][i++%w]));for(a=b=0,k=h*w;k--;){m[i=k/w][j=k%w]?z=p[m[i][j]],f(j,i),z?a++:b++:0;}printf("%d %d\n",a,b);}}