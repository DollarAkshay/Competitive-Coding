h;w;n=40001;p[40002];m[101][100];v[101][100];f(x,y,z){if(x>=0&x<w&y>=0&y<h&p[m[y][x]]==z&!v[y][x]){v[y][x]=1;f(x,y-1,z);f(x+1,y,z);f(x,y+1,z);f(x-1,y,z);}}main(t,i,j,k,a,b,z){memset(p,1,n);for(i=2;i<n;i++)for(j=i*i;p[i]&j<n;j+=i)p[j]=0;scanf("%d",&t);while(scanf("%d%d",&h,&w), t--){for(i=0;i<h*w;scanf("%d",&m[i/w][i++%w]));memset(v,0,n); for(a=b=0,k=h*w;k--;){if(!v[i=k/w][j=k%w]){z=p[m[i][j]];f(j,i,z);z?a++:b++;}}printf("%d %d\n",a,b);}}